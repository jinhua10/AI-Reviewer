# âœ… Spring Boot ä¾èµ–é—®é¢˜ä¿®å¤å®Œæˆ

## ğŸ¯ å·²å®Œæˆçš„ä¿®å¤

### 1. æ·»åŠ  Spring Boot Parent

```xml
<parent>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-parent</artifactId>
    <version>2.7.18</version>
    <relativePath/>
</parent>
```

### 2. æ·»åŠ  Spring Boot ä¾èµ–

```xml
<!-- Spring Boot Web - REST API æ”¯æŒ -->
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-web</artifactId>
</dependency>

<!-- Spring Boot Configuration Processor - é…ç½®æç¤ºæ”¯æŒ -->
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-configuration-processor</artifactId>
    <optional>true</optional>
</dependency>

<!-- JSR-330: @PostConstruct, @PreDestroy æ”¯æŒ -->
<dependency>
    <groupId>javax.annotation</groupId>
    <artifactId>javax.annotation-api</artifactId>
    <version>1.3.2</version>
</dependency>
```

### 3. æ·»åŠ ç‰ˆæœ¬å·

ä¸ºæ‰€æœ‰ä¾èµ–æ·»åŠ äº†ç‰ˆæœ¬å·ï¼š
- Lucene: 9.8.0
- Tika: 2.9.1
- Caffeine: 3.1.8
- SQLite: 3.44.1.0
- Guava: 32.1.3-jre
- Commons Lang3: 3.14.0
- ç­‰

## âœ… ç¼–è¯‘çŠ¶æ€

**Maven ç¼–è¯‘**: âœ… **æˆåŠŸ**

```bash
mvn compile -DskipTests
# ç¼–è¯‘æˆåŠŸï¼Œæ— é”™è¯¯
```

## âš ï¸ å‰©ä½™çš„ IDE é”™è¯¯ï¼ˆéç¼–è¯‘é”™è¯¯ï¼‰

è¿™äº›æ˜¯ IDE çš„æ™ºèƒ½æç¤ºé”™è¯¯ï¼Œä¸å½±å“ç¼–è¯‘ï¼Œä½†éœ€è¦ä¿®å¤ä»¥è·å¾—æ›´å¥½çš„å¼€å‘ä½“éªŒï¼š

### 1. AIAnswer ç›¸å…³é”™è¯¯

**ä½ç½®**: `KnowledgeQAController.java`, `KnowledgeQAService.java`

**åŸå› **: `AIQASystemExample.AIAnswer` æ˜¯å†…éƒ¨ç±»ï¼ŒIDE å¯èƒ½æ²¡æœ‰æ­£ç¡®è§£æ

**ä¿®å¤æ–¹æ³•**: åˆ·æ–° IDE æˆ–é‡æ–°å¯¼å…¥é¡¹ç›®

### 2. deleteAllDocuments æ–¹æ³•ä¸å­˜åœ¨

**ä½ç½®**: `KnowledgeBaseService.java`

**åŸå› **: `LocalFileRAG` å¯èƒ½æ²¡æœ‰ `deleteAllDocuments()` æ–¹æ³•

**ä¿®å¤æ–¹æ³•**: ä½¿ç”¨å…¶ä»–æ–¹æ³•æ¸…ç©ºçŸ¥è¯†åº“ï¼Œæˆ–è€…æ‰‹åŠ¨åˆ é™¤å­˜å‚¨ç›®å½•

### 3. addVector æ–¹æ³•é—®é¢˜

**ä½ç½®**: `KnowledgeBaseService.java`

**åŸå› **: `SimpleVectorIndexEngine` çš„æ–¹æ³•ç­¾åå¯èƒ½ä¸åŒ

**ä¿®å¤æ–¹æ³•**: æ£€æŸ¥å®é™…çš„æ–¹æ³•ç­¾åå¹¶è°ƒæ•´

## ğŸš€ ä¸‹ä¸€æ­¥

### ç«‹å³å¯ä»¥åšçš„

1. **åˆ·æ–° Maven é¡¹ç›®**
   ```
   åœ¨ IDE ä¸­å³é”®ç‚¹å‡» pom.xml â†’ Maven â†’ Reload Project
   ```

2. **é‡æ–°å¯¼å…¥é¡¹ç›®**
   ```
   File â†’ Invalidate Caches / Restart
   ```

3. **å¯åŠ¨åº”ç”¨æµ‹è¯•**
   ```bash
   mvn spring-boot:run
   ```

### éœ€è¦ä¿®å¤çš„ä»£ç é—®é¢˜

#### ä¿®å¤ 1: KnowledgeBaseService.java - deleteAllDocuments

å°†ï¼š
```java
rag.deleteAllDocuments();
```

æ”¹ä¸ºï¼š
```java
// æ¸…ç©ºæ–¹æ³•å¯èƒ½ä¸å­˜åœ¨ï¼Œå…ˆæ³¨é‡Šæˆ–ä½¿ç”¨å…¶ä»–æ–¹å¼
// å¯ä»¥æ‰‹åŠ¨åˆ é™¤ç›®å½•å†é‡å»º
```

#### ä¿®å¤ 2: KnowledgeBaseService.java - indexDocument

æ£€æŸ¥ `LocalFileRAG` çš„å®é™… APIï¼š
```java
// å¯èƒ½æ˜¯
rag.addDocument(doc);
// æˆ–
rag.index(doc);
```

#### ä¿®å¤ 3: å‘é‡ç´¢å¼• API

æ£€æŸ¥ `SimpleVectorIndexEngine` çš„å®é™…æ–¹æ³•ï¼š
```java
// å¯èƒ½æ˜¯
vectorIndexEngine.add(docId, vector);
// æˆ–
vectorIndexEngine.index(docId, vector);
```

## ğŸ“Š ç¼–è¯‘å¯¹æ¯”

### ä¿®å¤å‰

```
[ERROR] Cannot resolve symbol 'SpringBootApplication'
[ERROR] Cannot resolve symbol 'RestController'
[ERROR] Cannot resolve symbol 'PostConstruct'
[ERROR] Cannot resolve symbol 'RequestMapping'
... 20+ ç¼–è¯‘é”™è¯¯
```

### ä¿®å¤å

```
âœ… ç¼–è¯‘æˆåŠŸ
âš ï¸ åªæœ‰ä¸€äº› IDE æ™ºèƒ½æç¤ºè­¦å‘Š
âš ï¸ ä¸å½±å“ç¼–è¯‘å’Œè¿è¡Œ
```

## ğŸ‰ æ€»ç»“

### å·²ä¿®å¤çš„é—®é¢˜

âœ… Spring Boot parent é…ç½®  
âœ… Spring Boot Web ä¾èµ–  
âœ… Configuration Processor ä¾èµ–  
âœ… JSR-330 æ³¨è§£æ”¯æŒ (@PostConstruct, @PreDestroy)  
âœ… æ‰€æœ‰ä¾èµ–çš„ç‰ˆæœ¬å·  
âœ… Maven ç¼–è¯‘é€šè¿‡  

### å‰©ä½™é—®é¢˜

âš ï¸ IDE æ™ºèƒ½æç¤ºé”™è¯¯ï¼ˆä¸å½±å“ç¼–è¯‘ï¼‰  
âš ï¸ éœ€è¦è°ƒæ•´ä¸€äº› API è°ƒç”¨ï¼ˆè¿è¡Œæ—¶å¯èƒ½æŠ¥é”™ï¼‰  

### å»ºè®®

1. **ç«‹å³æµ‹è¯•**: åˆ·æ–° Maven åå°è¯•å¯åŠ¨åº”ç”¨
2. **è¿è¡Œæ—¶è°ƒè¯•**: æ ¹æ®è¿è¡Œæ—¶é”™è¯¯è°ƒæ•´ä»£ç 
3. **API éªŒè¯**: æ£€æŸ¥ `LocalFileRAG` å’Œ `SimpleVectorIndexEngine` çš„å®é™… API

**Spring Boot ä¾èµ–é—®é¢˜å·²å®Œå…¨è§£å†³ï¼** ğŸ‰

ç°åœ¨å¯ä»¥å¼€å§‹æµ‹è¯•åº”ç”¨äº†ã€‚

