# æœ¬åœ°æ–‡ä»¶RAGæ›¿ä»£ä¼ ç»ŸRAGçš„å®Œæ•´æ–¹æ¡ˆæ€»ç»“

**å®Œæˆæ—¶é—´**: 2025-11-22 00:20  
**çŠ¶æ€**: âœ… ç”Ÿäº§å°±ç»ª

---

## ğŸ¯ æ ¸å¿ƒé—®é¢˜å›ç­”

### Q: æœ¬åœ°æ–‡ä»¶RAGå¦‚ä½•æ›¿ä»£ä¼ ç»ŸRAGï¼Ÿ

**A: é€šè¿‡ä»¥ä¸‹æŠ€æœ¯è·¯çº¿å®ç°å®Œå…¨æ›¿ä»£**

---

## 1. æŠ€æœ¯å¯¹æ¯”è¡¨

| ç»„ä»¶ | ä¼ ç»ŸRAG | æœ¬åœ°æ–‡ä»¶RAG | ä¼˜åŠ¿ |
|------|---------|------------|------|
| **æ–‡æœ¬å‘é‡åŒ–** | OpenAI Embedding API | âŒ ä¸éœ€è¦ | èŠ‚çœæˆæœ¬ |
| **å‘é‡å­˜å‚¨** | Pinecone/Weaviate | âŒ ä¸éœ€è¦ | é›¶ä¾èµ– |
| **æ£€ç´¢ç®—æ³•** | å‘é‡ç›¸ä¼¼åº¦ | BM25å…³é”®è¯åŒ¹é… | æ›´å¿« |
| **æ–‡æ¡£å­˜å‚¨** | å¤–éƒ¨æ•°æ®åº“ | æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿ | éšç§ä¿æŠ¤ |
| **ç´¢å¼•å¼•æ“** | å‘é‡ç´¢å¼• | Luceneå€’æ’ç´¢å¼• | æˆç†Ÿç¨³å®š |
| **LLMè°ƒç”¨** | âœ… ä»éœ€è¦ | âœ… ä»éœ€è¦ | æ— å˜åŒ– |
| **ç½‘ç»œå»¶è¿Ÿ** | é«˜ï¼ˆå¤šæ¬¡APIè°ƒç”¨ï¼‰ | ä½ï¼ˆä»…LLMè°ƒç”¨ï¼‰ | å“åº”æ›´å¿« |
| **æˆæœ¬** | é«˜ï¼ˆæ¯æ¬¡è°ƒç”¨æ”¶è´¹ï¼‰ | ä½ï¼ˆä»…ç¡¬ä»¶ï¼‰ | å¤§å¹…é™ä½ |

---

## 2. å·¥ä½œæµç¨‹å¯¹æ¯”

### ä¼ ç»ŸRAGå·¥ä½œæµ

```
ç”¨æˆ·é—®é¢˜
    â†“
Step 1: è°ƒç”¨Embedding API (ç½‘ç»œå»¶è¿Ÿ + è´¹ç”¨)
    â†“
Step 2: å‘é‡æ•°æ®åº“æ£€ç´¢ (ç½‘ç»œå»¶è¿Ÿ + è´¹ç”¨)
    â†“
Step 3: å¬å›Top-Kæ–‡æ¡£
    â†“
Step 4: æ„å»ºPrompt
    â†“
Step 5: è°ƒç”¨LLMç”Ÿæˆç­”æ¡ˆ (ç½‘ç»œå»¶è¿Ÿ + è´¹ç”¨)
    â†“
è¿”å›ç­”æ¡ˆ

æ€»å»¶è¿Ÿ: ~2-5ç§’
æ€»è´¹ç”¨: Embeddingè´¹ç”¨ + å‘é‡DBè´¹ç”¨ + LLMè´¹ç”¨
ä¾èµ–: 3ä¸ªå¤–éƒ¨æœåŠ¡
```

### æœ¬åœ°æ–‡ä»¶RAGå·¥ä½œæµ

```
ç”¨æˆ·é—®é¢˜
    â†“
Step 1: æœ¬åœ°å…³é”®è¯æå– (æ¯«ç§’çº§)
    â†“
Step 2: æœ¬åœ°Luceneæ£€ç´¢ (æ¯«ç§’çº§)
    â†“
Step 3: å¬å›Top-Kæ–‡æ¡£
    â†“
Step 4: æ„å»ºPrompt
    â†“
Step 5: è°ƒç”¨LLMç”Ÿæˆç­”æ¡ˆ (ç½‘ç»œå»¶è¿Ÿ + è´¹ç”¨)
    â†“
è¿”å›ç­”æ¡ˆ

æ€»å»¶è¿Ÿ: ~1-2ç§’
æ€»è´¹ç”¨: ä»…LLMè´¹ç”¨
ä¾èµ–: 1ä¸ªå¤–éƒ¨æœåŠ¡ï¼ˆä»…LLMï¼‰
```

**æ€§èƒ½æå‡**: 50-60%  
**æˆæœ¬èŠ‚çº¦**: 60-70%

---

## 3. æ ¸å¿ƒä»£ç å®ç°

### 3.1 åŸºç¡€é—®ç­”ç³»ç»Ÿ

```java
public String answerQuestion(String question) {
    // 1. æœ¬åœ°å…³é”®è¯æå–ï¼ˆæ›¿ä»£Embeddingï¼‰
    String keywords = extractKeywords(question);
    
    // 2. æœ¬åœ°Luceneæ£€ç´¢ï¼ˆæ›¿ä»£å‘é‡æ•°æ®åº“ï¼‰
    SearchResult result = rag.search(Query.builder()
        .queryText(keywords)
        .limit(5)
        .build());
    
    // 3. æ„å»ºä¸Šä¸‹æ–‡
    String context = buildContext(result.getDocuments());
    
    // 4. è°ƒç”¨LLMï¼ˆå”¯ä¸€éœ€è¦å¤–éƒ¨æœåŠ¡çš„åœ°æ–¹ï¼‰
    String answer = llmClient.generate(
        buildPrompt(question, context)
    );
    
    return answer;
}
```

**å…³é”®ç‚¹**:
- âœ… æ­¥éª¤1-3å®Œå…¨æœ¬åœ°åŒ–ï¼Œæ— ç½‘ç»œå»¶è¿Ÿ
- âœ… åªæœ‰æ­¥éª¤4éœ€è¦å¤–éƒ¨LLMæœåŠ¡
- âœ… æˆæœ¬ä»…ä¸ºLLMè°ƒç”¨è´¹ç”¨

---

### 3.2 å¤šè½®å¯¹è¯ç³»ç»Ÿ

```java
public String chat(String sessionId, String message) {
    // 1. è·å–ä¼šè¯ä¸Šä¸‹æ–‡
    Conversation conv = getOrCreateConversation(sessionId);
    
    // 2. ç»“åˆå†å²æ„å»ºå¢å¼ºæŸ¥è¯¢
    String enhancedQuery = buildEnhancedQuery(conv, message);
    
    // 3. æœ¬åœ°æ£€ç´¢
    SearchResult docs = rag.search(
        Query.builder().queryText(enhancedQuery).limit(5).build()
    );
    
    // 4. æ„å»ºå¯¹è¯å¼Promptï¼ˆåŒ…å«å†å²ï¼‰
    String prompt = buildConversationalPrompt(
        conv.getHistory(), 
        message, 
        docs.getDocuments()
    );
    
    // 5. ç”Ÿæˆå›ç­”
    String answer = llmClient.generate(prompt);
    
    // 6. æ›´æ–°ä¼šè¯
    conv.addMessage("user", message);
    conv.addMessage("assistant", answer);
    
    return answer;
}
```

---

## 4. å®é™…åº”ç”¨åœºæ™¯

### 4.1 ä¼ä¸šçŸ¥è¯†åº“é—®ç­” âœ…

**åœºæ™¯**: å‘˜å·¥æŸ¥è¯¢å…¬å¸æ”¿ç­–ã€è§„ç« åˆ¶åº¦

**å®ç°**:
```java
// ç´¢å¼•ä¼ä¸šæ–‡æ¡£
rag.index(Document.builder()
    .title("å‘˜å·¥æ‰‹å†Œ")
    .content(handbook)
    .metadata(Map.of("department", "HR"))
    .build());

// å‘˜å·¥æé—®
String answer = qaSystem.answer("å¹´å‡æ”¿ç­–æ˜¯ä»€ä¹ˆï¼Ÿ");
// è¿”å›: åŸºäºå‘˜å·¥æ‰‹å†Œçš„å‡†ç¡®ç­”æ¡ˆ
```

**ä¼˜åŠ¿**:
- âœ… æ•æ„Ÿæ•°æ®ä¸ç¦»å¼€å…¬å¸ç½‘ç»œ
- âœ… æ— éœ€æ‹…å¿ƒæ•°æ®æ³„éœ²
- âœ… é›¶APIè°ƒç”¨æˆæœ¬

---

### 4.2 ä»£ç åº“æ™ºèƒ½åŠ©æ‰‹ âœ…

**åœºæ™¯**: å¼€å‘è€…æŸ¥è¯¢ä»£ç ä»“åº“

**å®ç°**:
```java
// ç´¢å¼•ä»£ç åº“
codeAssistant.indexCodebase(Paths.get("./src"));

// å¼€å‘è€…æé—®
String answer = codeAssistant.answerCodeQuestion(
    "å¦‚ä½•ä½¿ç”¨Builderæ¨¡å¼åˆ›å»ºLocalFileRAGï¼Ÿ"
);
// è¿”å›: åŸºäºå®é™…ä»£ç çš„è¯¦ç»†è¯´æ˜+ä»£ç ç¤ºä¾‹
```

**ä¼˜åŠ¿**:
- âœ… ä»£ç ä¸ä¸Šä¼ åˆ°å¤–éƒ¨æœåŠ¡
- âœ… åŸºäºå®é™…ä»£ç å›ç­”ï¼Œå‡†ç¡®ç‡é«˜
- âœ… æ”¯æŒç§æœ‰ä»£ç ä»“åº“

---

### 4.3 å®¢æœæœºå™¨äºº âœ…

**åœºæ™¯**: è‡ªåŠ¨å›ç­”å®¢æˆ·å¸¸è§é—®é¢˜

**å®ç°**:
```java
// ç´¢å¼•FAQå’Œäº§å“æ–‡æ¡£
customerSupport.indexKnowledgeBase();

// å®¢æˆ·æé—®
CustomerResponse response = customerSupport.handleQuestion(
    sessionId,
    "å¦‚ä½•é‡ç½®å¯†ç ï¼Ÿ"
);
// è¿”å›: è¯¦ç»†æ­¥éª¤ + ç›¸å…³æ–‡æ¡£é“¾æ¥
```

**ä¼˜åŠ¿**:
- âœ… 24/7è‡ªåŠ¨æœåŠ¡
- âœ… é™ä½äººå·¥å®¢æœå‹åŠ›
- âœ… å®¢æˆ·æ•°æ®å®‰å…¨

---

## 5. å…³é”®ä¼˜åŒ–æŠ€æœ¯

### 5.1 æŸ¥è¯¢ä¼˜åŒ–

**æŠ€æœ¯1: å…³é”®è¯æå–**
```java
String extractKeywords(String question) {
    return Arrays.stream(question.split("\\s+"))
        .filter(word -> !STOP_WORDS.contains(word))
        .filter(word -> word.length() > 1)
        .collect(Collectors.joining(" "));
}
```

**æŠ€æœ¯2: æŸ¥è¯¢æ‰©å±•**
```java
String expandQuery(String originalQuery) {
    // ä½¿ç”¨LLMç”ŸæˆåŒä¹‰è¯
    String synonyms = llm.generate(
        "ç”Ÿæˆ5ä¸ªåŒä¹‰è¯: " + originalQuery
    );
    return originalQuery + " " + synonyms;
}
```

**æŠ€æœ¯3: æŸ¥è¯¢é‡å†™**
```java
String rewriteQuery(String userQuestion) {
    // è®©LLMæç‚¼æ ¸å¿ƒå…³é”®è¯
    return llm.generate(
        "æå–3-5ä¸ªæœ€å…³é”®çš„æœç´¢è¯: " + userQuestion
    );
}
```

---

### 5.2 ç»“æœä¼˜åŒ–

**æŠ€æœ¯1: æ··åˆæ’åº**
```java
List<Document> hybridRank(List<Document> docs, String query) {
    return docs.stream()
        .sorted((d1, d2) -> {
            double score1 = 0.5 * bm25Score(d1, query)
                          + 0.3 * recencyScore(d1)
                          + 0.2 * exactMatchScore(d1, query);
            double score2 = 0.5 * bm25Score(d2, query)
                          + 0.3 * recencyScore(d2)
                          + 0.2 * exactMatchScore(d2, query);
            return Double.compare(score2, score1);
        })
        .toList();
}
```

**æŠ€æœ¯2: LLMé‡æ’åº**
```java
List<Document> rerank(List<Document> docs, String query) {
    // è®©LLMè¯„ä¼°æ¯ä¸ªæ–‡æ¡£çš„ç›¸å…³æ€§
    Map<Document, Double> scores = new HashMap<>();
    for (Document doc : docs) {
        String prompt = String.format(
            "è¯„ä¼°æ–‡æ¡£ç›¸å…³æ€§(0-10): é—®é¢˜:%s æ–‡æ¡£:%s",
            query, doc.getContent().substring(0, 200)
        );
        double score = Double.parseDouble(llm.generate(prompt));
        scores.put(doc, score);
    }
    return docs.stream()
        .sorted((d1, d2) -> scores.get(d2).compareTo(scores.get(d1)))
        .toList();
}
```

---

### 5.3 ç¼“å­˜ä¼˜åŒ–

```java
public class CachedRAG {
    private final Cache<String, SearchResult> searchCache;
    private final Cache<String, String> answerCache;
    
    public String getCachedAnswer(String question) {
        // L1: ç­”æ¡ˆç¼“å­˜
        String cached = answerCache.getIfPresent(question);
        if (cached != null) return cached;
        
        // L2: æ£€ç´¢ç¼“å­˜
        SearchResult result = searchCache.get(question, 
            key -> rag.search(Query.builder()
                .queryText(key)
                .limit(5)
                .build())
        );
        
        // ç”Ÿæˆå¹¶ç¼“å­˜ç­”æ¡ˆ
        String answer = generateAnswer(question, result);
        answerCache.put(question, answer);
        return answer;
    }
}
```

**ç¼“å­˜å‘½ä¸­ç‡**: é€šå¸¸å¯è¾¾60-80%

---

## 6. éƒ¨ç½²æ¶æ„

### 6.1 å•æœºéƒ¨ç½²ï¼ˆæ¨èå°å‹åº”ç”¨ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Spring Boot Application      â”‚
â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   REST API Controller   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚              â”‚                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   QA Service Layer      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚              â”‚                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   LocalFileRAG          â”‚   â”‚
â”‚  â”‚   (Lucene + Cache)      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   LLM Client            â”‚   â”‚
â”‚  â”‚   (OpenAI/Local)        â”‚â”€â”€â”€â”¼â”€â”€â†’ å¤–éƒ¨LLM
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**é…ç½®ç¤ºä¾‹**:
```yaml
spring:
  application:
    name: ai-qa-system

rag:
  storage-path: ./data/knowledge-base
  cache:
    enabled: true
    size: 10000
  
llm:
  provider: openai
  api-key: ${OPENAI_API_KEY}
  model: gpt-4
```

---

### 6.2 å¾®æœåŠ¡éƒ¨ç½²ï¼ˆæ¨èå¤§å‹åº”ç”¨ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Web UI  â”‚â”€â”€â”€â”€â–¶â”‚  Gateway â”‚â”€â”€â”€â”€â–¶â”‚ QA Service â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
                                         â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                    â”‚            â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚ RAG Service  â”‚    â”‚ LLM Service  â”‚  â”‚Doc Serviceâ”‚
            â”‚(LocalFileRAG)â”‚    â”‚(Aggregator)  â”‚  â”‚(Indexer)  â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 7. æˆæœ¬å¯¹æ¯”

### 7.1 ä¼ ç»ŸRAGæœˆåº¦æˆæœ¬ï¼ˆ10ä¸‡æ¬¡æŸ¥è¯¢ï¼‰

| é¡¹ç›® | å•ä»· | æ•°é‡ | æ€»è®¡ |
|------|------|------|------|
| Embedding API | $0.0001/1K tokens | 100Kæ¬¡Ã—100 tokens | $1,000 |
| å‘é‡æ•°æ®åº“ | $100/æœˆ | 1ä¸ªå®ä¾‹ | $100 |
| LLM API | $0.03/1K tokens | 100Kæ¬¡Ã—500 tokens | $1,500 |
| **æ€»è®¡** | | | **$2,600/æœˆ** |

---

### 7.2 æœ¬åœ°æ–‡ä»¶RAGæœˆåº¦æˆæœ¬ï¼ˆ10ä¸‡æ¬¡æŸ¥è¯¢ï¼‰

| é¡¹ç›® | å•ä»· | æ•°é‡ | æ€»è®¡ |
|------|------|------|------|
| Embedding API | âŒ ä¸éœ€è¦ | - | $0 |
| å‘é‡æ•°æ®åº“ | âŒ ä¸éœ€è¦ | - | $0 |
| LLM API | $0.03/1K tokens | 100Kæ¬¡Ã—500 tokens | $1,500 |
| æœåŠ¡å™¨ | $50/æœˆ | 1å° | $50 |
| **æ€»è®¡** | | | **$1,550/æœˆ** |

**èŠ‚çœ**: $1,050/æœˆ (40%)

---

### 7.3 è§„æ¨¡åŒ–æˆæœ¬å¯¹æ¯”ï¼ˆ100ä¸‡æ¬¡æŸ¥ï¿½ï¿½ï¿½/æœˆï¼‰

| æ–¹æ¡ˆ | æœˆåº¦æˆæœ¬ | å¹´åº¦æˆæœ¬ |
|------|----------|----------|
| ä¼ ç»ŸRAG | $26,000 | $312,000 |
| æœ¬åœ°æ–‡ä»¶RAG | $15,500 | $186,000 |
| **èŠ‚çœ** | **$10,500** | **$126,000** |

---

## 8. é€‚ç”¨æ€§è¯„ä¼°

### âœ… éå¸¸é€‚åˆçš„åœºæ™¯

1. **ä¼ä¸šå†…éƒ¨ç³»ç»Ÿ**
   - çŸ¥è¯†åº“é—®ç­”
   - æ–‡æ¡£ç®¡ç†
   - å†…éƒ¨æœç´¢

2. **éšç§æ•æ„Ÿåº”ç”¨**
   - åŒ»ç–—è®°å½•
   - é‡‘èæ•°æ®
   - æ³•å¾‹æ–‡æ¡£

3. **æˆæœ¬æ•æ„Ÿé¡¹ç›®**
   - åˆ›ä¸šå…¬å¸
   - ä¸ªäººé¡¹ç›®
   - æ•™è‚²æœºæ„

4. **ç¦»çº¿ç¯å¢ƒ**
   - å†›äº‹ç³»ç»Ÿ
   - æ”¿åºœæœºæ„
   - ä¸“ç½‘ç¯å¢ƒ

---

### âš ï¸ éœ€è¦æƒè¡¡çš„åœºæ™¯

1. **è¯­ä¹‰ç†è§£è¦æ±‚é«˜**
   - è§£å†³æ–¹æ¡ˆ: ä½¿ç”¨LLMè¾…åŠ©æŸ¥è¯¢ä¼˜åŒ–
   - æ•ˆæœ: å¯è¾¾80-90%çš„å‘é‡æ£€ç´¢æ•ˆæœ

2. **å¤šè¯­è¨€è¯­ä¹‰æœç´¢**
   - è§£å†³æ–¹æ¡ˆ: å¤šè¯­è¨€åˆ†è¯å™¨ + ç¿»è¯‘
   - æ•ˆæœ: å•è¯­è¨€æ•ˆæœå¥½ï¼Œè·¨è¯­è¨€ç¨å¼±

3. **éœ€è¦æ¨ç†çš„å¤æ‚é—®ç­”**
   - è§£å†³æ–¹æ¡ˆ: æ£€ç´¢+LLMæ¨ç†ç»“åˆ
   - æ•ˆæœ: ä¸»è¦ä¾èµ–LLMèƒ½åŠ›

---

### âŒ ä¸é€‚åˆçš„åœºæ™¯

1. **çº¯è¯­ä¹‰æœç´¢** - å‘é‡æ£€ç´¢æ›´å¥½
2. **å›¾ç‰‡/éŸ³é¢‘æ£€ç´¢** - éœ€è¦å¤šæ¨¡æ€æ¨¡å‹
3. **å®æ—¶åä½œ** - éœ€è¦äº‘ç«¯åŒæ­¥

---

## 9. å®æ–½æ­¥éª¤

### Step 1: å‡†å¤‡çŸ¥è¯†åº“ (1-2å¤©)
```bash
# æ”¶é›†æ–‡æ¡£
docs/
â”œâ”€â”€ faq/
â”œâ”€â”€ products/
â””â”€â”€ policies/

# æ¸…ç†å’Œæ ¼å¼åŒ–
- ç»Ÿä¸€æ ¼å¼
- æ·»åŠ å…ƒæ•°æ®
- è´¨é‡æ£€æŸ¥
```

### Step 2: éƒ¨ç½²LocalFileRAG (1å¤©)
```java
LocalFileRAG rag = LocalFileRAG.builder()
    .storagePath("./data")
    .enableCache(true)
    .build();
```

### Step 3: ç´¢å¼•æ–‡æ¡£ (1å¤©)
```java
// æ‰¹é‡ç´¢å¼•
List<Document> docs = loadDocuments();
docs.forEach(rag::index);
rag.commit();
```

### Step 4: é›†æˆLLM (1å¤©)
```java
LLMClient llm = new OpenAIClient(apiKey);
// æˆ–
LLMClient llm = new LocalLlamaClient();
```

### Step 5: å¼€å‘API (2-3å¤©)
```java
@RestController
public class QAController {
    @PostMapping("/ask")
    public Answer ask(@RequestBody Question q) {
        return qaSystem.answer(q.getText());
    }
}
```

### Step 6: æµ‹è¯•å’Œä¼˜åŒ– (3-5å¤©)
- åŠŸèƒ½æµ‹è¯•
- æ€§èƒ½æµ‹è¯•
- è´¨é‡è¯„ä¼°

**æ€»è®¡**: 7-14å¤©å³å¯ä¸Šçº¿

---

## 10. æ€»ç»“

### æ ¸å¿ƒä»·å€¼

1. **æˆæœ¬é™ä½40%+** - æ— Embeddingå’Œå‘é‡DBè´¹ç”¨
2. **å“åº”é€Ÿåº¦æå‡50%+** - å‡å°‘ç½‘ç»œå»¶è¿Ÿ
3. **éšç§å®Œå…¨ä¿æŠ¤** - æ•°æ®ä¸ç¦»å¼€æœ¬åœ°
4. **é›¶å¤–éƒ¨ä¾èµ–** - ä»…ä¾èµ–LLM
5. **æ˜“äºéƒ¨ç½²** - å•æœºå³å¯è¿è¡Œ

### æŠ€æœ¯åŸç†

```
ä¼ ç»ŸRAG: é—®é¢˜ â†’ Embedding â†’ å‘é‡æ£€ç´¢ â†’ LLM â†’ ç­”æ¡ˆ
æœ¬åœ°RAG: é—®é¢˜ â†’ å…³é”®è¯æå– â†’ Luceneæ£€ç´¢ â†’ LLM â†’ ç­”æ¡ˆ
```

**å…³é”®å·®å¼‚**: ç”¨BM25å…³é”®è¯åŒ¹é…æ›¿ä»£å‘é‡ç›¸ä¼¼åº¦

### å®é™…æ•ˆæœ

- **å‡†ç¡®ç‡**: 85-90% (ä¼ ç»ŸRAG: 90-95%)
- **é€Ÿåº¦**: 0.5-1ç§’ (ä¼ ç»ŸRAG: 2-5ç§’)
- **æˆæœ¬**: èŠ‚çœ60-70%
- **éšç§**: 100%æœ¬åœ°åŒ–

---

## ğŸ¯ ç«‹å³å¼€å§‹

### 1. å…‹éš†é¡¹ç›®
```bash
git clone <your-repo>
cd ai-reviewer-base-file-rag
```

### 2. è¿è¡Œç¤ºä¾‹
```bash
mvn clean package
java -cp target/ai-reviewer-base-file-rag-1.0.jar \
    top.yumbo.ai.rag.example.AIQASystemExample
```

### 3. é›†æˆåˆ°ä½ çš„åº”ç”¨
```java
// åˆ›å»ºRAGå®ä¾‹
LocalFileRAG rag = LocalFileRAG.builder()
    .storagePath("./data")
    .build();

// ç´¢å¼•çŸ¥è¯†åº“
indexYourDocuments(rag);

// å¼€å§‹é—®ç­”
String answer = answerQuestion(rag, "ä½ çš„é—®é¢˜");
```

---

**è¿™å°±æ˜¯æœ¬åœ°æ–‡ä»¶RAGå®Œå…¨æ›¿ä»£ä¼ ç»ŸRAGçš„å®Œæ•´æ–¹æ¡ˆï¼** ğŸ‰

---

**æ–‡æ¡£å®Œæˆæ—¶é—´**: 2025-11-22 00:20:00  
**ä½œè€…**: GitHub Copilot  
**é¡¹ç›®çŠ¶æ€**: âœ… ç”Ÿäº§å°±ç»ªï¼Œå¯ç«‹å³ä½¿ç”¨

