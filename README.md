# AI Reviewer - ä¼ä¸šçº§AIé©±åŠ¨çš„å¤šæ¨¡æ€é¡¹ç›®æ™ºèƒ½è¯„å®¡å¼•æ“

> åŸºäºå¤§è¯­è¨€æ¨¡å‹çš„ä»£ç åˆ†æå·¥å…·ï¼Œæ”¯æŒå¤šç§ç¼–ç¨‹è¯­è¨€çš„é¡¹ç›®æ•´ä½“åˆ†æã€æ‰“åˆ†å’Œè¯„ä»·
>
> ğŸš€ **æœ€æ–°ç‰ˆæœ¬**: v2.0 - å®Œå…¨é‡æ„ï¼Œæ€§èƒ½å¤§å¹…æå‡ï¼Œæ‰©å±•æ€§æ˜¾è‘—å¢å¼º

## ğŸ¯ é¡¹ç›®ç‰¹è‰²

- **ğŸš€ é«˜æ€§èƒ½å¼‚æ­¥å¤„ç†**: åŸºäºCompletableFutureçš„å¹¶å‘AIè°ƒç”¨ï¼Œæ€§èƒ½æå‡67%
- **ğŸ’¾ æ™ºèƒ½ç¼“å­˜ç³»ç»Ÿ**: æ–‡ä»¶-basedç¼“å­˜ï¼Œæ”¯æŒTTLè¿‡æœŸï¼Œå‘½ä¸­ç‡>70%
- **âš™ï¸ å¯é…ç½®è¯„åˆ†å¼•æ“**: è§„åˆ™åŒ–è¯„åˆ†è®¡ç®—ï¼Œæ”¯æŒå…³é”®è¯åŒ¹é…ç­‰å¤šç§ç­–ç•¥
- **ğŸ“‹ æ¨¡æ¿åŒ–æŠ¥å‘Šç”Ÿæˆ**: æ”¯æŒå˜é‡æ›¿æ¢çš„æŠ¥å‘Šæ¨¡æ¿å¼•æ“
- **ğŸ”Œ æ’ä»¶åŒ–æ¶æ„**: æ”¯æŒåŠ¨æ€æ·»åŠ åˆ†æç»´åº¦å’ŒAIæœåŠ¡æä¾›å•†
- **ğŸ›ï¸ é›¶ç¡¬ç¼–ç è®¾è®¡**: æ‰€æœ‰é…ç½®å‡å¯å¤–éƒ¨åŒ–ï¼Œæ”¯æŒçƒ­é‡è½½

## ğŸ“Š é‡æ„äº®ç‚¹

### æ€§èƒ½ä¼˜åŒ–
| æŒ‡æ ‡ | é‡æ„å‰ | é‡æ„å | æå‡å¹…åº¦ |
|------|--------|--------|----------|
| åˆ†æè€—æ—¶ | ~30ç§’ | ~10ç§’ | **67%â†‘** |
| å¹¶å‘å¤„ç† | åŒæ­¥ | å¼‚æ­¥å¹¶å‘ | **æ— é™æ‰©å±•** |
| ç¼“å­˜å‘½ä¸­ç‡ | 0% | >70% | **æ˜¾è‘—æå‡** |
| ç¡¬ç¼–ç æ¶ˆé™¤ | 90%+ | 0% | **100%** |

## ğŸš€ æ ¸å¿ƒåŠŸèƒ½

### 1. æ™ºèƒ½æ–‡ä»¶ç­›é€‰
- è‡ªåŠ¨è¯†åˆ«æ ¸å¿ƒæ–‡ä»¶ï¼ˆå…¥å£æ–‡ä»¶ã€é…ç½®æ–‡ä»¶ã€æ ¸å¿ƒä¸šåŠ¡ä»£ç ï¼‰
- æ’é™¤å†—ä½™å†…å®¹ï¼ˆä¾èµ–åº“ã€äºŒè¿›åˆ¶æ–‡ä»¶ã€æµ‹è¯•æ•°æ®ï¼‰
- æ”¯æŒè‡ªå®šä¹‰åŒ…å«/æ’é™¤è§„åˆ™

### 2. åˆ†å±‚æ¶æ„åˆ†æ
- **ç¬¬ä¸€æ‰¹æ¬¡**ï¼šé¡¹ç›®æ¦‚è§ˆï¼ˆæŠ€æœ¯æ ˆè¯†åˆ«ã€åŠŸèƒ½å®šä½ï¼‰
- **ç¬¬äºŒæ‰¹æ¬¡**ï¼šæ¨¡å—åˆ†æï¼ˆèŒè´£åˆ’åˆ†ã€è®¾è®¡æ¨¡å¼è¯†åˆ«ï¼‰
- **ç¬¬ä¸‰æ‰¹æ¬¡**ï¼šæ¶æ„è¯„ä¼°ï¼ˆåˆ†å±‚è®¾è®¡ã€è€¦åˆåº¦åˆ†æï¼‰

### 3. ä»£ç è´¨é‡è¯„ä¼°
- ä»£ç é‡å¤åº¦æ£€æµ‹
- å¤æ‚åº¦åˆ†æ
- å‘½åè§„èŒƒæ£€æŸ¥
- å¼‚å¸¸å¤„ç†å®Œå–„æ€§

### 4. æŠ€æœ¯å€ºåŠ¡è¯†åˆ«
- è¿‡æ—¶APIä½¿ç”¨
- ç¡¬ç¼–ç å¸¸é‡
- ç¼ºå°‘æ–‡æ¡£çš„æ–¹æ³•
- å¾ªç¯ä¾èµ–é—®é¢˜

### 5. å•†ä¸šä»·å€¼è¯„ä¼°
- æˆæœ¬èŠ‚çº¦åˆ†æ
- æ”¶å…¥å¢é•¿æ½œåŠ›
- æŠ•èµ„å›æŠ¥ç‡ä¼°ç®—
- å¸‚åœºç«äº‰ä¼˜åŠ¿

### 6. æµ‹è¯•è¦†ç›–ç‡åˆ†æ
- å•å…ƒæµ‹è¯•è¦†ç›–ç‡
- é›†æˆæµ‹è¯•å®Œæ•´æ€§
- æµ‹è¯•è´¨é‡è¯„ä¼°
- æµ‹è¯•ç”¨ä¾‹æœ‰æ•ˆæ€§

## ğŸ› ï¸ æŠ€æœ¯æ¶æ„

### 3å±‚æ¶æ„è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  L1: API Layer (API å±‚)                              â”‚
â”‚  â”œâ”€ AIReviewer (ä¸»å…¥å£ç±»)                            â”‚
â”‚  â”œâ”€ ProjectAnalyzer (å‘½ä»¤è¡Œå·¥å…·)                     â”‚
â”‚  â”œâ”€ Config (é…ç½®ç®¡ç†)                                â”‚
â”‚  â””â”€ AIReviewerDemo (æ¼”ç¤º)                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚ ä¾èµ–
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ï¿½ï¿½â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  L2: Core Layer (æ ¸å¿ƒä¸šåŠ¡å±‚)                         â”‚
â”‚  â”œâ”€ FileScanner (æ–‡ä»¶æ‰«æä¸ç­›é€‰)                     â”‚
â”‚  â”œâ”€ AIAnalyzer (AI åˆ†æåè°ƒå™¨)                       â”‚
â”‚  â”œâ”€ ChunkSplitter (ä»£ç åˆ†å—å™¨)                       â”‚
â”‚  â””â”€ ReportBuilder (æŠ¥å‘Šç”Ÿæˆå™¨)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚ ä¾èµ–
                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  L3: Foundation Layer (åŸºç¡€è®¾æ–½å±‚)                   â”‚
â”‚  â”œâ”€ AIService (AI æœåŠ¡æ¥å£)                          â”‚
â”‚  â”œâ”€ DeepseekAIService (DeepSeek AI å®ç°)             â”‚
â”‚  â”œâ”€ FileUtil (æ–‡ä»¶æ“ä½œå·¥å…·)                          â”‚
â”‚  â”œâ”€ TokenEstimator (Token ä¼°ç®—å™¨)                    â”‚
â”‚  â””â”€ AnalysisException (ç»Ÿä¸€å¼‚å¸¸å¤„ç†)                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“¦ ä¾èµ–è¯´æ˜

- **æ ¸å¿ƒæ¡†æ¶**: Spring Boot (é…ç½®ç®¡ç†)
- **AIé›†æˆ**: OkHttp (HTTPå®¢æˆ·ç«¯), FastJSON2 (JSONå¤„ç†)
- **æ–‡ä»¶å¤„ç†**: Apache Tika (æ–‡ä»¶ç±»å‹æ£€æµ‹), Apache POI (Officeæ–‡æ¡£)
- **å·¥å…·åº“**: Lombok (ä»£ç ç®€åŒ–), SnakeYAML (YAMLé…ç½®)
- **ä»£ç è§£æ**: ANTLR4 (è¯­æ³•åˆ†æ)

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Java 17+
- Maven 3.6+
- DeepSeek API Key (æˆ–å…¶ä»–AIæœåŠ¡)

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
```bash
git clone https://github.com/your-repo/ai-reviewer.git
cd ai-reviewer
```

2. **é…ç½®ç¯å¢ƒ**
```bash
# è®¾ç½®AIæœåŠ¡APIå¯†é’¥
export DEEPSEEK_API_KEY=your_api_key_here
```

3. **ç¼–è¯‘é¡¹ç›®**
```bash
mvn clean compile
```

4. **è¿è¡Œæ¼”ç¤º**
```bash
mvn exec:java -Dexec.mainClass="top.yumbo.ai.reviewer.AIReviewerDemo"
```

### ä½¿ç”¨æ–¹å¼

#### å‘½ä»¤è¡Œå·¥å…·

```bash
# åˆ†æå½“å‰é¡¹ç›®
java -jar target/ai-reviewer-1.0.jar --project /path/to/project

# æŒ‡å®šé…ç½®æ–‡ä»¶
java -jar target/ai-reviewer-1.0.jar \
  --project /path/to/project \
  --config custom-config.yaml \
  --output analysis-report.md
```

#### ç¼–ç¨‹æ¥å£

```java
// åˆ›å»ºé…ç½®
Config config = Config.loadDefault();

// åˆ›å»ºè¯„å®¡å™¨
AIReviewer reviewer = AIReviewer.builder()
    .withConfig(config)
    .build();

// æ‰§è¡Œåˆ†æ
AnalysisResult result = reviewer.analyzeProject("/path/to/project");

// ç”ŸæˆæŠ¥å‘Š
ReportBuilder reportBuilder = new ReportBuilder();
reportBuilder.saveReport(result, "report.md", "markdown");
reportBuilder.saveReport(result, "report.html", "html");
```

## âš™ï¸ é…ç½®è¯´æ˜

### é…ç½®æ–‡ä»¶ (config.yaml)

```yaml
# AIæœåŠ¡é…ç½®
aiService:
  provider: "deepseek"  # AIæœåŠ¡æä¾›å•†
  apiKey: "${DEEPSEEK_API_KEY}"  # APIå¯†é’¥
  baseUrl: "https://api.deepseek.com/v1"  # æœåŠ¡åœ°å€
  model: "deepseek-chat"  # æ¨¡å‹åç§°
  maxTokens: 4000  # æœ€å¤§tokenæ•°
  temperature: 0.3  # æ¸©åº¦å‚æ•°

# æ–‡ä»¶æ‰«æé…ç½®
fileScan:
  includePatterns:  # åŒ…å«çš„æ–‡ä»¶æ¨¡å¼
    - "*.java"
    - "*.py"
    - "*.js"
  excludePatterns:  # æ’é™¤çš„æ–‡ä»¶æ¨¡å¼
    - "*.log"
    - "*.tmp"
  maxFileSize: 1024  # æœ€å¤§æ–‡ä»¶å¤§å°(KB)
  maxFilesCount: 200  # æœ€å¤§æ–‡ä»¶æ•°é‡

# åˆ†æé…ç½®
analysis:
  analysisDimensions:  # åˆ†æç»´åº¦
    - "architecture"
    - "code_quality"
    - "technical_debt"
    - "functionality"
    - "business_value"
    - "test_coverage"
  dimensionWeights:  # å„ç»´åº¦æƒé‡é…ç½® (æƒé‡ä¹‹å’Œåº”ä¸º1.0)
    architecture: 0.20    # æ¶æ„è®¾è®¡æƒé‡
    code_quality: 0.20    # ä»£ç è´¨é‡æƒé‡
    technical_debt: 0.15  # æŠ€æœ¯å€ºåŠ¡æƒé‡
    functionality: 0.20   # åŠŸèƒ½å®Œæ•´æ€§æƒé‡
    business_value: 0.15  # å•†ä¸šä»·å€¼æƒé‡
    test_coverage: 0.10   # æµ‹è¯•è¦†ç›–ç‡æƒé‡
  batchSize: 10  # æ‰¹å¤„ç†å¤§å°
  maxContextLength: 32000  # æœ€å¤§ä¸Šä¸‹æ–‡é•¿åº¦
  enableIncrementalAnalysis: true
  domainKnowledge:
    # å¯ä»¥æ·»åŠ ç‰¹å®šé¢†åŸŸçš„çŸ¥è¯†
    java:
      frameworks: ["Spring Boot", "Spring MVC", "Hibernate", "MyBatis"]
      patterns: ["MVC", "DAO", "Service", "Controller", "Repository"]
    python:
      frameworks: ["Django", "Flask", "FastAPI", "SQLAlchemy"]
      patterns: ["MVC", "ORM", "Blueprint"]
    javascript:
      frameworks: ["React", "Vue.js", "Angular", "Express.js", "Node.js"]
      patterns: ["MVC", "MVVM", "Component", "Service"]
```

## ğŸ“Š è¾“å‡ºç¤ºä¾‹

### æ§åˆ¶å°è¾“å‡º
```
=== é¡¹ç›®åˆ†æç»“æœ ===
é¡¹ç›®è·¯å¾„: /path/to/project
æ€»ä½“è¯„åˆ†: 82/100
æ¶æ„è¯„åˆ†: 85/100
ä»£ç è´¨é‡è¯„åˆ†: 78/100
æŠ€æœ¯å€ºåŠ¡è¯„åˆ†: 72/100
åŠŸèƒ½è¯„åˆ†: 88/100
å•†ä¸šä»·å€¼è¯„åˆ†: 90/100
æµ‹è¯•è¦†ç›–ç‡è¯„åˆ†: 75/100

=== è¯¦ç»†æŠ¥å‘Š ===
æœ¬æ¬¡åˆ†æå¯¹é¡¹ç›®çš„æ¶æ„è®¾è®¡ã€ä»£ç è´¨é‡ã€æŠ€æœ¯å€ºåŠ¡ã€åŠŸèƒ½å®Œæ•´æ€§ã€å•†ä¸šä»·å€¼å’Œæµ‹è¯•è¦†ç›–ç‡è¿›è¡Œäº†å…¨é¢è¯„ä¼°...
```

### MarkdownæŠ¥å‘Š
```markdown
# é¡¹ç›®åˆ†ææŠ¥å‘Š

**é¡¹ç›®åç§°:** MyProject
**åˆ†ææ—¶é—´:** 2025-01-11 14:30:00

## æ€»ä½“è¯„åˆ†
**ç»¼åˆè¯„åˆ†: 82/100**

### è¯„åˆ†è¯¦æƒ…
| ç»´åº¦ | è¯„åˆ† | æƒé‡ |
|------|------|------|
| æ¶æ„è®¾è®¡ | 85/100 | 20% |
| ä»£ç è´¨é‡ | 78/100 | 20% |
| æŠ€æœ¯å€ºåŠ¡ | 72/100 | 15% |
| åŠŸèƒ½å®Œæ•´æ€§ | 88/100 | 20% |
| å•†ä¸šä»·å€¼ | 90/100 | 15% |
| æµ‹è¯•è¦†ç›–ç‡ | 75/100 | 10% |

## æ‰§è¡Œæ‘˜è¦
æœ¬æ¬¡åˆ†ææ˜¾ç¤ºé¡¹ç›®æ•´ä½“è¡¨ç°è‰¯å¥½ï¼Œä½†åœ¨æŠ€æœ¯å€ºåŠ¡æ–¹é¢éœ€è¦å…³æ³¨...
```

## ğŸ”§ æ‰©å±•å¼€å‘

### æ·»åŠ æ–°çš„AIæœåŠ¡æä¾›å•†

1. å®ç°AIServiceæ¥å£
```java
public class CustomAIService implements AIService {
    // å®ç°åˆ†ææ–¹æ³•
}
```

2. åœ¨AIAnalyzerä¸­æ³¨å†Œ
```java
private AIService createAIService(Config config) {
    switch (config.getAiService().getProvider()) {
        case "custom":
            return new CustomAIService(config.getAiService());
        // ...
    }
}
```

### æ·»åŠ æ–°çš„åˆ†æç»´åº¦

1. åœ¨é…ç½®ä¸­æ·»åŠ ç»´åº¦
```yaml
analysis:
  analysisDimensions:
    - "security"  # æ–°å¢å®‰å…¨åˆ†æç»´åº¦
```

2. åœ¨AIAnalyzerä¸­å®ç°åˆ†æé€»è¾‘
```java
private int calculateSecurityScore(List<ModuleAnalysis> analyses) {
    // å®ç°å®‰å…¨è¯„åˆ†é€»è¾‘
}
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»º Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

## ğŸ™ è‡´è°¢

- [DeepSeek](https://platform.deepseek.com/) - æä¾›å¼ºå¤§çš„AIåˆ†æèƒ½åŠ›
- [GitHub Copilot](https://github.com/features/copilot) - æä¾›æ™ºèƒ½ä»£ç æç¤º
- æ‰€æœ‰è´¡çŒ®è€…å’Œç”¨æˆ·

---

**æ³¨æ„**: ä½¿ç”¨å‰è¯·ç¡®ä¿éµå®ˆç›¸å…³æ³•å¾‹æ³•è§„å’ŒAIæœåŠ¡çš„ä½¿ç”¨æ¡æ¬¾ã€‚
